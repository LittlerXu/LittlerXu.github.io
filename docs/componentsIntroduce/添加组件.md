**以** `ui-mobile-video-player` 组件为例

## 📋**1. 创建组件基础文件**

```plain
packages/luban-components/page/ui-mobile-video-player/
├── index.ts                    # 组件导出入口
├── ui-mobile-video-player.vue             # 组件主文件
```

## 📊**2. 创建 SchemaObject 配置**

```javascript
// packages/luban-components/schemaObject/ui-mobile-video-player.js
export default {
  is: "ui-新组件名",              // 组件唯一标识
  name: "组件显示名称",           // 编辑器中显示的名称
  icon: "图标名称",               // 组件图标
  category: "组件分类",           // 组件分类
  isTabChildren: true,           // 是否可作为ui-tab的子组件
  isSinger: false,              // 是否页面中唯一
  isContainer: false,           // 是否是容器组件
  hideLegacyConfig: false,      // 是否隐藏经典配置
  
  // 默认属性值
  defaultValue: {
    countId: "统计标识",
    // ... 其他默认值
  },
  
  // 编辑器表单配置
  props: [
    {
      name: "countId",
      title: "统计标识",
      setter: {
        componentName: "StringSetter",
      },
    },
    // ... 其他表单配置
  ],
};
```

## 🔗**3. 在 Schema 注册表中注册**

```javascript
// packages/luban-components/schema.js

// 1. 导入组件配置
import uiMobileVideoPlayer from "./schemaObject/ui-mobile-video-player";

// 2. 在对应的平台配置中添加
//小米视频
const videoSchema = {
  "ui-mobile-video-playe": uiMobileVideoPlayer,
};
```

### 🎨**4. 在编辑器中注册组件**

```javascript
// apps/luban-cms/src/page/pageEditor/pageEditor.js

const editorComponents = {
  "ui-mobile-video-player": () =>
    import("luban-components/page/ui-mobile-video-player"),
};
```

## 🚀**5. 在各平台运行时注册**

#### **移动端活动平台**

```javascript
// apps/luban-activity/src/main.js
const activityComponents = {
  "ui-mobile-video-player": () =>
    import(
      /* webpackChunkName: "ui-mobile-video-player" */ "luban-components/page/ui-mobile-video-player/ui-mobile-video-player"
    ),
};
```

#### **RN 平台**

```javascript
// apps/luban-rn-activity/src/page/Template/registerComponents.js

const activityComponents = {
  // ... 其他组件
  "ui-新组件名": () =>
    import(
      /* webpackChunkName: "ui-新组件名" */ "../../business-components/ui-新组件名"
    ),
};
```

#### **TV 平台**

```javascript
// apps/luban-tv-activity/... (根据具体路径)
// 在对应的组件注册文件中添加
```

## 📝**6. 公共组件和方法**

**组件开发过程中的公共方法/hook应放在此文件下:**
`<span class="ne-text">packages\luban-components\common</span>`

![](https://cdn.nlark.com/yuque/0/2025/png/34803287/1754542116955-d8c5a0e0-9e2f-42a2-ab45-a1bc950d592d.png)

**公共组件应放在此文件下:**

`<span class="ne-text">packages\luban-components\page\commonCom</span>`

![](https://cdn.nlark.com/yuque/0/2025/png/34803287/1754542136151-46c60246-a9db-4f46-905e-e38f6d7b6d51.png)

## 📝**7. 接口**

**组件用到的接口在对应平台接口文件和配置平台接口文件中添加**

**移动平台:**

```typescript
//  apps\luban-activity\src\project-conf\apiMap.js
const apiMap = {
  //动漫短剧相关
  /**短剧播放 */
  getShortVideoPlay: "/api/a3/websupport/shortplay/play",
  /**短剧详情 */
  getShortVideoDetail: "/api/a3/websupport/shortplay/detail",
}
```

**配置平台:**

```typescript
// apps\luban-cms\src\project-conf\apiMap.js
export default {
  //动漫短剧相关
  /**短剧播放 */
  getShortVideoPlay: "/api/a3/websupport/shortplay/play",
  /**短剧详情 */
  getShortVideoDetail: "/api/a3/websupport/shortplay/detail",
}
```

**其它平台在对应位置添加.**

## 📝**8. 打点**

## 📝9. 完整的添加流程总结

1. **创建组件文件** → `<span class="ne-text">packages/luban-components/page/ui-新组件名/</span>`
2. **创建 Schema 配置** → `<span class="ne-text">packages/luban-components/schemaObject/ui-新组件名.js</span>`
3. **注册到 Schema 索引** → `<span class="ne-text">packages/luban-components/schema.js</span>`
4. **编辑器注册** → `<span class="ne-text">apps/luban-cms/src/page/pageEditor/pageEditor.js</span>`
5. **各平台运行时注册** → 对应平台的注册文件

## ⚠️**注意事项**

* **命名规范** **：组件名称需要保持一致性（kebab-case）**
* **平台兼容** **：根据组件支持的平台，在对应的注册文件中添加**
